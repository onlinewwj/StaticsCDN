import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,f as l,b as i,h as a,e as n,g as c,o as h}from"./app-4snGr-mi.js";const k={};function B(r,s){const p=c("Badge");return h(),t("div",null,[s[9]||(s[9]=l('<h1 id="免费获取flighttrader的数据并导入googleearth" tabindex="-1"><a class="header-anchor" href="#免费获取flighttrader的数据并导入googleearth"><span>免费获取FlightTrader的数据并导入GoogleEarth</span></a></h1><h2 id="获取" tabindex="-1"><a class="header-anchor" href="#获取"><span>获取</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意：网站需要魔法才能访问，免费和未登录用户只能看到最近7天的数据。</p></div>',3)),i("ol",null,[s[7]||(s[7]=i("li",null,[a("打开 "),i("a",{href:"https://www.flightradar24.com",target:"_blank",rel:"noopener noreferrer"},"FlightTrader24网站"),a(" ；")],-1)),i("li",null,[s[0]||(s[0]=a("搜索航班号，找到历史数据，按 ")),n(p,{text:"F12",type:"info",vertical:"middle"}),s[1]||(s[1]=a(" 打开控制台，选择")),n(p,{text:"网络(Network)",type:"info",vertical:"middle"}),s[2]||(s[2]=a("选项卡；"))]),i("li",null,[s[3]||(s[3]=a("点击 ")),n(p,{text:"Play",type:"info",vertical:"middle"}),s[4]||(s[4]=a(" 按钮，在控制台里找含 ")),s[5]||(s[5]=i("code",null,"flight-playback.json",-1)),s[6]||(s[6]=a(" 字样的链接，下载下来；"))]),s[8]||(s[8]=i("li",null,"运行下面的脚本",-1))]),s[10]||(s[10]=l(`<div class="code-block-with-title"><div class="code-block-title-bar" data-title="main.py"><span>main.py</span></div><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">sys</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">from</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datetime</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">import</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datetime,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">timezone</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">def</span><span class="space"> </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">generate_flight_kml</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-light-font-style:italic;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">json_file_path</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-light-font-style:italic;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">kml_file_path</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">从指定的</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">JSON</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件路径读取航班数据，并创建一个功能完整、视觉优化的</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">KML</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件。</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">Args:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">json_file_path</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(str):</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">输入的</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">JSON</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件路径。</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">kml_file_path</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(str):</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">输出的</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">KML</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件路径。</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;读取输入文件:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json_file_path</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">with</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">open</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(json_file_path,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;r&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">encoding</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;utf-8&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">as</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">f:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">data</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">load</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(f)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">1.</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">提取所有需要的航班信息</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;result&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;response&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;data&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;flight&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{})</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">用于摘要的信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_id</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;identification&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;number&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;default&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">机场信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">airport_info</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;airport&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{})</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">airport_info.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;origin&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{})</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">destination</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">airport_info.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;destination&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{})</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_name</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_iata</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;code&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;iata&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_name</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">destination.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_iata</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">destination.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;code&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;iata&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">轨迹数据</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;track&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[])</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">if</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;错误:</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json_file_path</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">中未找到有效的轨迹数据。&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">return</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">2.</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">处理轨迹和数据点</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(与之前相同)</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_when_tags,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_coord_tags,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datapoint_placemarks</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[],</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[],</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">for</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">timestamp</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;timestamp&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lon,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lat</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;longitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">),</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;latitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">alt_m</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;altitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;meters&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">if</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">all</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">([timestamp,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lon</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">is</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">None</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lat</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">is</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">None</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]):</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dt_object</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datetime.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">fromtimestamp</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(timestamp,</span><span class="space"> </span><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tz</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">timezone.utc)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">time_str</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dt_object.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">strftime</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%Y-%m-</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">T%H:%M:%SZ&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_when_tags.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;when&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">time_str</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/when&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_coord_tags.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;gx:coord&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lon</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lat</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">alt_m</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/gx:coord&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">desc_html</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;![CDATA[&lt;div</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">style=&#39;font-family:</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">Arial,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">sans-serif;&#39;&gt;&lt;h3&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_id</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">-</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">数据点&lt;/h3&gt;&lt;p&gt;&lt;b&gt;时间:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dt_object.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">strftime</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%Y-%m-</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">%d</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">%H:%M:%S</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">UTC&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;br&gt;&lt;b&gt;速度:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;speed&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;kmh&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">km/h&lt;br&gt;&lt;b&gt;高度:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">alt_m</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">米</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(海拔)&lt;br&gt;&lt;b&gt;航向:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">point.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;heading&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">°&lt;/p&gt;&lt;/div&gt;]]&gt;&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datapoint_placemarks.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Placemark&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;TimeStamp&gt;&lt;when&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">time_str</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/when&gt;&lt;/TimeStamp&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;styleUrl&gt;#datapointStyle&lt;/styleUrl&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Point&gt;&lt;coordinates&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lon</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">lat</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">alt_m</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/coordinates&gt;&lt;/Point&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;name&gt;数据&lt;/name&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;description&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">desc_html</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/description&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/Placemark&gt;&quot;&quot;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_when_block</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">\\n</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(track_when_tags)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_coord_block</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">\\n</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(track_coord_tags)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datapoint_block</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">\\n</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(datapoint_placemarks)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">新增：创建航班摘要信息</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_info_html</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;![CDATA[</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;b&gt;航班号:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_id</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;br&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;b&gt;航空公司:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;airline&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;br&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;b&gt;机型:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;aircraft&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;model&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;text&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_data.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;aircraft&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;identification&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;registration&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;N/A&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">)&lt;br&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;b&gt;从:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_name</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_iata</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">)&lt;br&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;b&gt;到:&lt;/b&gt;</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_name</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_iata</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">]]&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">3.</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">构建最终</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">KML</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">字符串</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">kml_content</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;&lt;?xml</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">version=&quot;1.0&quot;</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">encoding=&quot;UTF-8&quot;?&gt;</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;kml</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">xmlns=&quot;http://www.opengis.net/kml/2.2&quot;</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">xmlns:gx=&quot;http://www.google.com/kml/ext/2.2&quot;&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Document&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;name&gt;航班</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_id</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/name&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;description&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">flight_info_html.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">strip</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/description&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Style</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">id=&quot;flightTrackStyle&quot;&gt;&lt;IconStyle&gt;&lt;scale&gt;1.5&lt;/scale&gt;&lt;color&gt;ff00ffff&lt;/color&gt;&lt;Icon&gt;&lt;href&gt;http://maps.google.com/mapfiles/kml/shapes/airports.png&lt;/href&gt;&lt;/Icon&gt;&lt;/IconStyle&gt;&lt;LineStyle&gt;&lt;color&gt;ff0000ff&lt;/color&gt;&lt;width&gt;4.5&lt;/width&gt;&lt;/LineStyle&gt;&lt;/Style&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Style</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">id=&quot;airportStyle&quot;&gt;&lt;IconStyle&gt;&lt;scale&gt;1.3&lt;/scale&gt;&lt;color&gt;ffff7f00&lt;/color&gt;&lt;Icon&gt;&lt;href&gt;http://maps.google.com/mapfiles/kml/paddle/A.png&lt;/href&gt;&lt;/Icon&gt;&lt;/IconStyle&gt;&lt;/Style&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Style</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">id=&quot;datapointStyle&quot;&gt;&lt;IconStyle&gt;&lt;scale&gt;0.5&lt;/scale&gt;&lt;color&gt;80ffffff&lt;/color&gt;&lt;Icon&gt;&lt;href&gt;http://maps.google.com/mapfiles/kml/shapes/placemark_circle.png&lt;/href&gt;&lt;/Icon&gt;&lt;/IconStyle&gt;&lt;LabelStyle&gt;&lt;scale&gt;0&lt;/scale&gt;&lt;/LabelStyle&gt;&lt;/Style&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Placemark&gt;&lt;name&gt;起点:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_name</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin_iata</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">)&lt;/name&gt;&lt;styleUrl&gt;#airportStyle&lt;/styleUrl&gt;&lt;Point&gt;&lt;coordinates&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;position&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;longitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">origin.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;position&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;latitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,0&lt;/coordinates&gt;&lt;/Point&gt;&lt;/Placemark&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Placemark&gt;&lt;name&gt;终点:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_name</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">dest_iata</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">)&lt;/name&gt;&lt;styleUrl&gt;#airportStyle&lt;/styleUrl&gt;&lt;Point&gt;&lt;coordinates&gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">destination.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;position&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;longitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">destination.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;position&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{}).</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;latitude&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">,0&lt;/coordinates&gt;&lt;/Point&gt;&lt;/Placemark&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Folder&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;name&gt;飞行轨迹与数据点&lt;/name&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Placemark&gt;&lt;name&gt;飞行轨迹动画&lt;/name&gt;&lt;styleUrl&gt;#flightTrackStyle&lt;/styleUrl&gt;&lt;gx:Track&gt;&lt;altitudeMode&gt;absolute&lt;/altitudeMode&gt;</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_when_block</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">track_coord_block</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/gx:Track&gt;&lt;/Placemark&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;Folder&gt;&lt;name&gt;详细数据点</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">(点击飞机图标查看)&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">datapoint_block</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/Folder&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/Folder&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/Document&gt;</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;/kml&gt;</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">with</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">open</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(kml_file_path,</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;w&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span class="space"> </span><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">encoding</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;utf-8&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">as</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">f:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">f.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">write</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(kml_content)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;✅</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">KML</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件已成功生成:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">kml_file_path</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">except</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">FileNotFoundError:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;错误:</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">找不到输入文件</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json_file_path</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">except</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json.JSONDecodeError:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;错误:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">json_file_path</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">不是一个有效的</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">JSON</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">文件。&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">except</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Exception</span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">as</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">e:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;发生未知错误:</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">主程序入口：处理命令行参数</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">---</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">if</span><span class="space"> </span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">__name__</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">==</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;__main__&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">检查命令行参数数量是否正确</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">if</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(sys.argv)</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">!=</span><span class="space"> </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;用法:</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">python</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">make_kml.py</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;输入文件名.json&gt;</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&lt;输出文件名&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;示例:</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">python</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">make_kml.py</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">flight-playback.json</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">my_flight_output&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">sys.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">退出脚本</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span><span class="space"> </span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">从命令行获取参数，并调用主函数执行转换</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">generate_flight_kml</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(sys.argv[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span><span class="space"> </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">sys.argv[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span><span class="space"> </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;.kml&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">python</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">main.py</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">flight-playback.json</span><span class="space"> </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">output</span></span></code></pre></div><p>输出的数据就可以导入GoogleEarth了。</p>`,3))])}const y=e(k,[["render",B]]),F=JSON.parse('{"path":"/blog/instruction/flighttrader.html","title":"免费获取FlightTrader的数据并导入GoogleEarth","lang":"zh-CN","frontmatter":{"author":"Jerry","title":"免费获取FlightTrader的数据并导入GoogleEarth","icon":"lucide:plane-takeoff","date":"2025-06-23T00:00:00.000Z","article":true,"category":["教程"],"tag":["免费"],"description":"免费获取FlightTrader的数据并导入GoogleEarth 获取 注意：网站需要魔法才能访问，免费和未登录用户只能看到最近7天的数据。 打开 FlightTrader24网站 ； 搜索航班号，找到历史数据，按 点击 运行下面的脚本 main.py 输出的数据就可以导入GoogleEarth了。","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"免费获取FlightTrader的数据并导入GoogleEarth\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-06-23T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jerry\\"}]}"],["meta",{"property":"og:url","content":"https://blog.jerry75.dpdns.org/blog/instruction/flighttrader.html"}],["meta",{"property":"og:site_name","content":"JerryのBlog"}],["meta",{"property":"og:title","content":"免费获取FlightTrader的数据并导入GoogleEarth"}],["meta",{"property":"og:description","content":"免费获取FlightTrader的数据并导入GoogleEarth 获取 注意：网站需要魔法才能访问，免费和未登录用户只能看到最近7天的数据。 打开 FlightTrader24网站 ； 搜索航班号，找到历史数据，按 点击 运行下面的脚本 main.py 输出的数据就可以导入GoogleEarth了。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"Jerry"}],["meta",{"property":"article:tag","content":"免费"}],["meta",{"property":"article:published_time","content":"2025-06-23T00:00:00.000Z"}]]},"git":{},"readingTime":{"minutes":3.21,"words":963},"filePathRelative":"blog/instruction/flighttrader.md","excerpt":"\\n<h2>获取</h2>\\n<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">注意：网站需要魔法才能访问，免费和未登录用户只能看到最近7天的数据。</p>\\n</div>\\n<ol>\\n<li>打开 <a href=\\"https://www.flightradar24.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">FlightTrader24网站</a> ；</li>\\n<li>搜索航班号，找到历史数据，按 </li>\\n<li>点击 </li>\\n<li>运行下面的脚本</li>\\n</ol>","autoDesc":true}');export{y as comp,F as data};
